(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=1)})([function(module,exports,__webpack_require__){(function(){"use strict";function polyfill(){var w=window;var d=document;if("scrollBehavior"in d.documentElement.style&&w.__forceSmoothScrollPolyfill__!==true){return}var Element=w.HTMLElement||w.Element;var SCROLL_TIME=468;var original={scroll:w.scroll||w.scrollTo,scrollBy:w.scrollBy,elementScroll:Element.prototype.scroll||scrollElement,scrollIntoView:Element.prototype.scrollIntoView};var now=w.performance&&w.performance.now?w.performance.now.bind(w.performance):Date.now;function isMicrosoftBrowser(userAgent){var userAgentPatterns=["MSIE ","Trident/","Edge/"];return new RegExp(userAgentPatterns.join("|")).test(userAgent)}var ROUNDING_TOLERANCE=isMicrosoftBrowser(w.navigator.userAgent)?1:0;function scrollElement(x,y){this.scrollLeft=x;this.scrollTop=y}function ease(k){return.5*(1-Math.cos(Math.PI*k))}function shouldBailOut(firstArg){if(firstArg===null||typeof firstArg!=="object"||firstArg.behavior===undefined||firstArg.behavior==="auto"||firstArg.behavior==="instant"){return true}if(typeof firstArg==="object"&&firstArg.behavior==="smooth"){return false}throw new TypeError("behavior member of ScrollOptions "+firstArg.behavior+" is not a valid value for enumeration ScrollBehavior.")}function hasScrollableSpace(el,axis){if(axis==="Y"){return el.clientHeight+ROUNDING_TOLERANCE<el.scrollHeight}if(axis==="X"){return el.clientWidth+ROUNDING_TOLERANCE<el.scrollWidth}}function canOverflow(el,axis){var overflowValue=w.getComputedStyle(el,null)["overflow"+axis];return overflowValue==="auto"||overflowValue==="scroll"}function isScrollable(el){var isScrollableY=hasScrollableSpace(el,"Y")&&canOverflow(el,"Y");var isScrollableX=hasScrollableSpace(el,"X")&&canOverflow(el,"X");return isScrollableY||isScrollableX}function findScrollableParent(el){while(el!==d.body&&isScrollable(el)===false){el=el.parentNode||el.host}return el}function step(context){var time=now();var value;var currentX;var currentY;var elapsed=(time-context.startTime)/SCROLL_TIME;elapsed=elapsed>1?1:elapsed;value=ease(elapsed);currentX=context.startX+(context.x-context.startX)*value;currentY=context.startY+(context.y-context.startY)*value;context.method.call(context.scrollable,currentX,currentY);if(currentX!==context.x||currentY!==context.y){w.requestAnimationFrame(step.bind(w,context))}}function smoothScroll(el,x,y){var scrollable;var startX;var startY;var method;var startTime=now();if(el===d.body){scrollable=w;startX=w.scrollX||w.pageXOffset;startY=w.scrollY||w.pageYOffset;method=original.scroll}else{scrollable=el;startX=el.scrollLeft;startY=el.scrollTop;method=scrollElement}step({scrollable:scrollable,method:method,startTime:startTime,startX:startX,startY:startY,x:x,y:y})}w.scroll=w.scrollTo=function(){if(arguments[0]===undefined){return}if(shouldBailOut(arguments[0])===true){original.scroll.call(w,arguments[0].left!==undefined?arguments[0].left:typeof arguments[0]!=="object"?arguments[0]:w.scrollX||w.pageXOffset,arguments[0].top!==undefined?arguments[0].top:arguments[1]!==undefined?arguments[1]:w.scrollY||w.pageYOffset);return}smoothScroll.call(w,d.body,arguments[0].left!==undefined?~~arguments[0].left:w.scrollX||w.pageXOffset,arguments[0].top!==undefined?~~arguments[0].top:w.scrollY||w.pageYOffset)};w.scrollBy=function(){if(arguments[0]===undefined){return}if(shouldBailOut(arguments[0])){original.scrollBy.call(w,arguments[0].left!==undefined?arguments[0].left:typeof arguments[0]!=="object"?arguments[0]:0,arguments[0].top!==undefined?arguments[0].top:arguments[1]!==undefined?arguments[1]:0);return}smoothScroll.call(w,d.body,~~arguments[0].left+(w.scrollX||w.pageXOffset),~~arguments[0].top+(w.scrollY||w.pageYOffset))};Element.prototype.scroll=Element.prototype.scrollTo=function(){if(arguments[0]===undefined){return}if(shouldBailOut(arguments[0])===true){if(typeof arguments[0]==="number"&&arguments[1]===undefined){throw new SyntaxError("Value could not be converted")}original.elementScroll.call(this,arguments[0].left!==undefined?~~arguments[0].left:typeof arguments[0]!=="object"?~~arguments[0]:this.scrollLeft,arguments[0].top!==undefined?~~arguments[0].top:arguments[1]!==undefined?~~arguments[1]:this.scrollTop);return}var left=arguments[0].left;var top=arguments[0].top;smoothScroll.call(this,this,typeof left==="undefined"?this.scrollLeft:~~left,typeof top==="undefined"?this.scrollTop:~~top)};Element.prototype.scrollBy=function(){if(arguments[0]===undefined){return}if(shouldBailOut(arguments[0])===true){original.elementScroll.call(this,arguments[0].left!==undefined?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==undefined?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);return}this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})};Element.prototype.scrollIntoView=function(){if(shouldBailOut(arguments[0])===true){original.scrollIntoView.call(this,arguments[0]===undefined?true:arguments[0]);return}var scrollableParent=findScrollableParent(this);var parentRects=scrollableParent.getBoundingClientRect();var clientRects=this.getBoundingClientRect();if(scrollableParent!==d.body){smoothScroll.call(this,scrollableParent,scrollableParent.scrollLeft+clientRects.left-parentRects.left,scrollableParent.scrollTop+clientRects.top-parentRects.top);if(w.getComputedStyle(scrollableParent).position!=="fixed"){w.scrollBy({left:parentRects.left,top:parentRects.top,behavior:"smooth"})}}else{w.scrollBy({left:clientRects.left,top:clientRects.top,behavior:"smooth"})}}}if(true){module.exports={polyfill:polyfill}}else{}})()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);class Tabs{constructor(tabButtons,tabs){this.tabButtons=tabButtons;this.tabs=tabs;this.tabButtons.forEach((elem,i)=>{elem.addEventListener("click",()=>{this.closeAllTabs();this.tabs[i].classList.add("active");elem.classList.add("active")})})}closeAllTabs(){this.tabButtons.forEach(button=>{button.classList.remove("active")});this.tabs.forEach(tab=>{tab.classList.remove("active")})}}class popupFunc{constructor(popup,button){this.button=button;this.popup=popup;this.openPopupFunc=this.openPopup.bind(this);this.closePopupFunc=this.closePopup.bind(this);if(Array.isArray(this.button)){this.button.forEach(elem=>{elem.addEventListener("click",this.openPopupFunc)})}else{this.button.addEventListener("click",this.openPopupFunc)}this.popup.querySelector(".close").addEventListener("click",this.closePopupFunc);this.popup.parentNode.addEventListener("click",this.closePopupFunc)}openPopup(event){event.preventDefault();this.popup.classList.add("open");this.popup.parentNode.classList.add("open")}closePopup(event){if(!event.target.classList.contains("close")&&event.target.closest(".popup")!==null){event.stopPropagation()}else{this.popup.classList.remove("open");this.popup.parentNode.classList.remove("open")}}}var smoothscroll=__webpack_require__(0);var smoothscroll_default=__webpack_require__.n(smoothscroll);smoothscroll_default.a.polyfill();function iOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function SmoothVerticalScrolling(e,time,where){let eTop;if(iOS){eTop=e.offsetTop}else{eTop=e.getBoundingClientRect().top}window.scrollTo({top:eTop-50,behavior:"smooth"})}document.querySelectorAll("[data-href]").forEach(link=>{link.addEventListener("click",e=>{e.preventDefault();SmoothVerticalScrolling(document.querySelector(`${link.dataset.href}`),1500,"top")})});new Tabs(document.querySelectorAll(".tab-buttons .tab"),document.querySelectorAll(".tabs .tab"));if(document.querySelector(".how-we-do-it .image-block")&&window.screen.width>978){let imageBlock=document.querySelector(".how-we-do-it .image-block"),imageList=imageBlock.querySelector("ol"),canvas=imageBlock.querySelector("canvas"),widthStatic=1250,heightStatic=650,paddingString,widthMark;canvas.width=widthStatic;canvas.height=heightStatic;let step={0:"41",1024:"62",1366:"82"};for(let width in step){if(window.screen.width<=width){break}else{widthMark=step[width]}}imageBlock.querySelectorAll(".image-field").forEach((elem,index)=>{let round=document.createElement("span");round.classList.add("mark");imageList.appendChild(round);let markX=parseInt(elem.dataset.posX),markY=parseInt(elem.dataset.posY);elem.style.top=`calc(${markY*100/heightStatic}% + ${Math.round(widthMark*.78)}px)`;elem.style.left=`${markX*100/widthStatic}%`;round.style.top=`${markY*100/heightStatic}%`;round.style.left=`${markX*100/widthStatic}%`;let elemHeight=parseInt(window.getComputedStyle(elem).getPropertyValue("height"));elem.style.height="0";if(window.screen.width>1023){elem.style.padding=`0 15px 0 20px`}else{elem.style.padding=`0 15px`}round.addEventListener("click",()=>{document.querySelectorAll(".how-we-do-it .image-block .image-field").forEach(field=>{if(field!==elem){field.style.height="0";if(window.screen.width>1023){field.style.padding=`0 15px 0 20px`}else{field.style.padding=`0 15px`}}});document.querySelectorAll(".how-we-do-it .image-block .mark").forEach(mark=>{if(mark!==round){mark.classList.remove("active")}});if(parseInt(elem.style.height)===0){round.classList.add("active");elem.style.height=`${elemHeight}px`;if(window.screen.width>1023){elem.style.padding=`25px 15px 25px 20px`}else{elem.style.padding=`5px 15px`}}else{round.classList.remove("active");elem.style.height="0";elem.style.padding=`0 15px 0 20px`}})})}if(document.querySelector("header .burger")&&window.screen.width<860){document.querySelector("header .burger").addEventListener("click",function(){document.querySelector("header nav").classList.add("active");document.body.classList.add("hidden");if(window.screen.width<576){document.querySelector("header .social").classList.add("active")}});document.querySelectorAll("header nav a").forEach(link=>{link.addEventListener("click",()=>{document.querySelector("header nav").classList.remove("active");document.body.classList.remove("hidden");if(window.screen.width<576){document.querySelector("header .social").classList.remove("active")}})});document.querySelector("header nav .close").addEventListener("click",function(){document.querySelector("header nav").classList.remove("active");document.body.classList.remove("hidden");if(window.screen.width<576){document.querySelector("header .social").classList.remove("active")}})}if(document.querySelector("section.top-catalogs .slider-images")){let allImages=document.querySelectorAll("section.top-catalogs .slider-images img");let siema=new Siema({selector:"section.top-catalogs .slider-images",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:false,multipleDrag:false,threshold:20,loop:true,rtl:false,onInit:function(){let dotLength=this.innerElements.length-this.perPage;for(let i=0;i<dotLength;i++){let dot=document.createElement("div");dot.classList.add("dot");this.selector.closest("section.top-catalogs").querySelector(".scroll").appendChild(dot)}allImages[this.currentSlide].classList.remove("active");setTimeout(()=>{this.next();setTimeout(()=>{allImages[this.currentSlide].classList.add("active")},300)},300);setInterval(()=>{allImages[this.currentSlide].classList.remove("active");setTimeout(()=>{this.next();setTimeout(()=>{allImages[this.currentSlide].classList.add("active")},300)},300)},10300);this.selector.closest("section.top-catalogs").querySelector(".btns .prev").addEventListener("click",()=>{allImages[this.currentSlide].classList.remove("active");setTimeout(()=>{siema.prev();setTimeout(()=>{allImages[this.currentSlide].classList.add("active")},300)},300)});this.selector.closest("section.top-catalogs").querySelector(".btns .next").addEventListener("click",()=>{allImages[this.currentSlide].classList.remove("active");setTimeout(()=>{siema.next();setTimeout(()=>{allImages[this.currentSlide].classList.add("active")},300)},300)})},onChange:function(){this.selector.parentNode.querySelectorAll(".scroll .dot").forEach(elem=>elem.classList.remove("active"));for(let i=0;i<this.currentSlide;i++){this.selector.parentNode.querySelectorAll(".scroll .dot")[i].classList.add("active")}}})}if(document.querySelector(".wrapper .popup")){new popupFunc(document.querySelector(".wrapper .popup"),[...document.querySelectorAll("[data-popup]")])}if(document.querySelector("section.blog")){let maxHeight=document.querySelector("section.blog .grid").offsetHeight;let heightOfBlock=document.querySelector("section.blog .elem").offsetHeight;let grid=document.querySelector("section.blog .grid");grid.style.maxHeight=`${heightOfBlock}px`;document.querySelector("section.blog .btn").addEventListener("click",e=>{e.preventDefault();grid.style.maxHeight=`${maxHeight}px`;grid.style.paddingBottom=`30px`;document.querySelector("section.blog .btn").style.display="none"})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInBvbHlmaWxsIiwidyIsIndpbmRvdyIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJfX2ZvcmNlU21vb3RoU2Nyb2xsUG9seWZpbGxfXyIsIkVsZW1lbnQiLCJIVE1MRWxlbWVudCIsIlNDUk9MTF9USU1FIiwib3JpZ2luYWwiLCJzY3JvbGwiLCJzY3JvbGxUbyIsInNjcm9sbEJ5IiwiZWxlbWVudFNjcm9sbCIsInNjcm9sbEVsZW1lbnQiLCJzY3JvbGxJbnRvVmlldyIsIm5vdyIsInBlcmZvcm1hbmNlIiwiRGF0ZSIsImlzTWljcm9zb2Z0QnJvd3NlciIsInVzZXJBZ2VudCIsInVzZXJBZ2VudFBhdHRlcm5zIiwiUmVnRXhwIiwiam9pbiIsInRlc3QiLCJST1VORElOR19UT0xFUkFOQ0UiLCJuYXZpZ2F0b3IiLCJ4IiwieSIsInRoaXMiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwiZWFzZSIsImsiLCJNYXRoIiwiY29zIiwiUEkiLCJzaG91bGRCYWlsT3V0IiwiZmlyc3RBcmciLCJiZWhhdmlvciIsInVuZGVmaW5lZCIsIlR5cGVFcnJvciIsImhhc1Njcm9sbGFibGVTcGFjZSIsImVsIiwiYXhpcyIsImNsaWVudEhlaWdodCIsInNjcm9sbEhlaWdodCIsImNsaWVudFdpZHRoIiwic2Nyb2xsV2lkdGgiLCJjYW5PdmVyZmxvdyIsIm92ZXJmbG93VmFsdWUiLCJnZXRDb21wdXRlZFN0eWxlIiwiaXNTY3JvbGxhYmxlIiwiaXNTY3JvbGxhYmxlWSIsImlzU2Nyb2xsYWJsZVgiLCJmaW5kU2Nyb2xsYWJsZVBhcmVudCIsImJvZHkiLCJwYXJlbnROb2RlIiwiaG9zdCIsInN0ZXAiLCJjb250ZXh0IiwidGltZSIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJlbGFwc2VkIiwic3RhcnRUaW1lIiwic3RhcnRYIiwic3RhcnRZIiwibWV0aG9kIiwic2Nyb2xsYWJsZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNtb290aFNjcm9sbCIsInNjcm9sbFgiLCJwYWdlWE9mZnNldCIsInNjcm9sbFkiLCJwYWdlWU9mZnNldCIsImFyZ3VtZW50cyIsImxlZnQiLCJ0b3AiLCJTeW50YXhFcnJvciIsInNjcm9sbGFibGVQYXJlbnQiLCJwYXJlbnRSZWN0cyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFJlY3RzIiwicG9zaXRpb24iLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiVGFicyIsIltvYmplY3QgT2JqZWN0XSIsInRhYkJ1dHRvbnMiLCJ0YWJzIiwiZm9yRWFjaCIsImVsZW0iLCJhZGRFdmVudExpc3RlbmVyIiwiY2xvc2VBbGxUYWJzIiwiY2xhc3NMaXN0IiwiYWRkIiwiYnV0dG9uIiwicmVtb3ZlIiwidGFiIiwicG9wdXBGdW5jIiwicG9wdXAiLCJvcGVuUG9wdXBGdW5jIiwib3BlblBvcHVwIiwiY2xvc2VQb3B1cEZ1bmMiLCJjbG9zZVBvcHVwIiwiQXJyYXkiLCJpc0FycmF5IiwicXVlcnlTZWxlY3RvciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJjb250YWlucyIsImNsb3Nlc3QiLCJzdG9wUHJvcGFnYXRpb24iLCJzbW9vdGhzY3JvbGwiLCJzbW9vdGhzY3JvbGxfZGVmYXVsdCIsImEiLCJpT1MiLCJpbmNsdWRlcyIsInBsYXRmb3JtIiwiU21vb3RoVmVydGljYWxTY3JvbGxpbmciLCJlIiwid2hlcmUiLCJlVG9wIiwib2Zmc2V0VG9wIiwicXVlcnlTZWxlY3RvckFsbCIsImxpbmsiLCJkYXRhc2V0IiwiaHJlZiIsInNjcmVlbiIsIndpZHRoIiwiaW1hZ2VCbG9jayIsImltYWdlTGlzdCIsImNhbnZhcyIsIndpZHRoU3RhdGljIiwiaGVpZ2h0U3RhdGljIiwicGFkZGluZ1N0cmluZyIsIndpZHRoTWFyayIsImhlaWdodCIsIjAiLCIxMDI0IiwiMTM2NiIsImluZGV4Iiwicm91bmQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJtYXJrWCIsInBhcnNlSW50IiwicG9zWCIsIm1hcmtZIiwicG9zWSIsImVsZW1IZWlnaHQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicGFkZGluZyIsImZpZWxkIiwibWFyayIsImFsbEltYWdlcyIsInNpZW1hIiwiU2llbWEiLCJzZWxlY3RvciIsImR1cmF0aW9uIiwiZWFzaW5nIiwicGVyUGFnZSIsInN0YXJ0SW5kZXgiLCJkcmFnZ2FibGUiLCJtdWx0aXBsZURyYWciLCJ0aHJlc2hvbGQiLCJsb29wIiwicnRsIiwib25Jbml0IiwiZG90TGVuZ3RoIiwiaW5uZXJFbGVtZW50cyIsImxlbmd0aCIsImRvdCIsImN1cnJlbnRTbGlkZSIsInNldFRpbWVvdXQiLCJuZXh0Iiwic2V0SW50ZXJ2YWwiLCJwcmV2Iiwib25DaGFuZ2UiLCJtYXhIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJoZWlnaHRPZkJsb2NrIiwiZ3JpZCIsInBhZGRpbmdCb3R0b20iLCJkaXNwbGF5Il0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxTQUVULElBQUlDLGlCQUFtQixHQUd2QixTQUFTQyxvQkFBb0JDLFVBRzVCLEdBQUdGLGlCQUFpQkUsVUFBVyxDQUM5QixPQUFPRixpQkFBaUJFLFVBQVVDLFFBR25DLElBQUlDLE9BQVNKLGlCQUFpQkUs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QUdnSSxVQUFVQyxJQUFJLGNBSzNGLEdBQUk3RixTQUFTeUcsY0FBYyxtQkFBbUIsQ0FDMUMsSUFBSVIsVUFBVWpHLFNBQVN5RyxjQUFjLG1CQUFvQixJQUFJekcsU0FBUzJILGlCQUFpQixrQkFFM0YsR0FBSTNILFNBQVN5RyxjQUFjLGdCQUFnQixDQUN2QyxJQUFJeUUsVUFBWWxMLFNBQVN5RyxjQUFjLHNCQUFzQjBFLGFBQzdELElBQUlDLGNBQWdCcEwsU0FBU3lHLGNBQWMsc0JBQXNCMEUsYUFDakUsSUFBSUUsS0FBT3JMLFNBQVN5RyxjQUFjLHNCQUNsQzRFLEtBQUtuTCxNQUFNZ0wsYUFBZUUsa0JBQzFCcEwsU0FBU3lHLGNBQWMscUJBQXFCZixpQkFBaUIsUUFBVTZCLElBQ25FQSxFQUFFWixpQkFDRjBFLEtBQUtuTCxNQUFNZ0wsYUFBZUEsY0FDMUJHLEtBQUtuTCxNQUFNb0wscUJBQ1h0TCxTQUFTeUcsY0FBYyxxQkFBcUJ2RyxNQUFNcUwsUUFBVSIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIHNtb290aHNjcm9sbCB2MC40LjQgLSAyMDE5IC0gRHVzdGFuIEthc3RlbiwgSmVyZW1pYXMgTWVuaWNoZWxsaSAtIE1JVCBMaWNlbnNlICovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gcG9seWZpbGxcbiAgZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gICAgLy8gYWxpYXNlc1xuICAgIHZhciB3ID0gd2luZG93O1xuICAgIHZhciBkID0gZG9jdW1lbnQ7XG5cbiAgICAvLyByZXR1cm4gaWYgc2Nyb2xsIGJlaGF2aW9yIGlzIHN1cHBvcnRlZCBhbmQgcG9seWZpbGwgaXMgbm90IGZvcmNlZFxuICAgIGlmIChcbiAgICAgICdzY3JvbGxCZWhhdmlvcicgaW4gZC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiZcbiAgICAgIHcuX19mb3JjZVNtb290aFNjcm9sbFBvbHlmaWxsX18gIT09IHRydWVcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnbG9iYWxzXG4gICAgdmFyIEVsZW1lbnQgPSB3LkhUTUxFbGVtZW50IHx8IHcuRWxlbWVudDtcbiAgICB2YXIgU0NST0xMX1RJTUUgPSA0Njg7XG5cbiAgICAvLyBvYmplY3QgZ2F0aGVyaW5nIG9yaWdpbmFsIHNjcm9sbCBtZXRob2RzXG4gICAgdmFyIG9yaWdpbmFsID0ge1xuICAgICAgc2Nyb2xsOiB3LnNjcm9sbCB8fCB3LnNjcm9sbFRvLFxuICAgICAgc2Nyb2xsQnk6IHcuc2Nyb2xsQnksXG4gICAgICBlbGVtZW50U2Nyb2xsOiBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGwgfHwgc2Nyb2xsRWxlbWVudCxcbiAgICAgIHNjcm9sbEludG9WaWV3OiBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxJbnRvVmlld1xuICAgIH07XG5cbiAgICAvLyBkZWZpbmUgdGltaW5nIG1ldGhvZFxuICAgIHZhciBub3cgPVxuICAgICAgdy5wZXJmb3JtYW5jZSAmJiB3LnBlcmZvcm1hbmNlLm5vd1xuICAgICAgICA/IHcucGVyZm9ybWFuY2Uubm93LmJpbmQody5wZXJmb3JtYW5jZSlcbiAgICAgICAgOiBEYXRlLm5vdztcblxuICAgIC8qKlxuICAgICAqIGluZGljYXRlcyBpZiBhIHRoZSBjdXJyZW50IGJyb3dzZXIgaXMgbWFkZSBieSBNaWNyb3NvZnRcbiAgICAgKiBAbWV0aG9kIGlzTWljcm9zb2Z0QnJvd3NlclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyQWdlbnRcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01pY3Jvc29mdEJyb3dzZXIodXNlckFnZW50KSB7XG4gICAgICB2YXIgdXNlckFnZW50UGF0dGVybnMgPSBbJ01TSUUgJywgJ1RyaWRlbnQvJywgJ0VkZ2UvJ107XG5cbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKHVzZXJBZ2VudFBhdHRlcm5zLmpvaW4oJ3wnKSkudGVzdCh1c2VyQWdlbnQpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogSUUgaGFzIHJvdW5kaW5nIGJ1ZyByb3VuZGluZyBkb3duIGNsaWVudEhlaWdodCBhbmQgY2xpZW50V2lkdGggYW5kXG4gICAgICogcm91bmRpbmcgdXAgc2Nyb2xsSGVpZ2h0IGFuZCBzY3JvbGxXaWR0aCBjYXVzaW5nIGZhbHNlIHBvc2l0aXZlc1xuICAgICAqIG9uIGhhc1Njcm9sbGFibGVTcGFjZVxuICAgICAqL1xuICAgIHZhciBST1VORElOR19UT0xFUkFOQ0UgPSBpc01pY3Jvc29mdEJyb3dzZXIody5uYXZpZ2F0b3IudXNlckFnZW50KSA/IDEgOiAwO1xuXG4gICAgLyoqXG4gICAgICogY2hhbmdlcyBzY3JvbGwgcG9zaXRpb24gaW5zaWRlIGFuIGVsZW1lbnRcbiAgICAgKiBAbWV0aG9kIHNjcm9sbEVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY3JvbGxFbGVtZW50KHgsIHkpIHtcbiAgICAgIHRoaXMuc2Nyb2xsTGVmdCA9IHg7XG4gICAgICB0aGlzLnNjcm9sbFRvcCA9IHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyByZXN1bHQgb2YgYXBwbHlpbmcgZWFzZSBtYXRoIGZ1bmN0aW9uIHRvIGEgbnVtYmVyXG4gICAgICogQG1ldGhvZCBlYXNlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGtcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVhc2Uoaykge1xuICAgICAgcmV0dXJuIDAuNSAqICgxIC0gTWF0aC5jb3MoTWF0aC5QSSAqIGspKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbmRpY2F0ZXMgaWYgYSBzbW9vdGggYmVoYXZpb3Igc2hvdWxkIGJlIGFwcGxpZWRcbiAgICAgKiBAbWV0aG9kIHNob3VsZEJhaWxPdXRcbiAgICAgKiBAcGFyYW0ge051bWJlcnxPYmplY3R9IGZpcnN0QXJnXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hvdWxkQmFpbE91dChmaXJzdEFyZykge1xuICAgICAgaWYgKFxuICAgICAgICBmaXJzdEFyZyA9PT0gbnVsbCB8fFxuICAgICAgICB0eXBlb2YgZmlyc3RBcmcgIT09ICdvYmplY3QnIHx8XG4gICAgICAgIGZpcnN0QXJnLmJlaGF2aW9yID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgZmlyc3RBcmcuYmVoYXZpb3IgPT09ICdhdXRvJyB8fFxuICAgICAgICBmaXJzdEFyZy5iZWhhdmlvciA9PT0gJ2luc3RhbnQnXG4gICAgICApIHtcbiAgICAgICAgLy8gZmlyc3QgYXJndW1lbnQgaXMgbm90IGFuIG9iamVjdC9udWxsXG4gICAgICAgIC8vIG9yIGJlaGF2aW9yIGlzIGF1dG8sIGluc3RhbnQgb3IgdW5kZWZpbmVkXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGZpcnN0QXJnID09PSAnb2JqZWN0JyAmJiBmaXJzdEFyZy5iZWhhdmlvciA9PT0gJ3Ntb290aCcpIHtcbiAgICAgICAgLy8gZmlyc3QgYXJndW1lbnQgaXMgYW4gb2JqZWN0IGFuZCBiZWhhdmlvciBpcyBzbW9vdGhcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyB0aHJvdyBlcnJvciB3aGVuIGJlaGF2aW9yIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdiZWhhdmlvciBtZW1iZXIgb2YgU2Nyb2xsT3B0aW9ucyAnICtcbiAgICAgICAgICBmaXJzdEFyZy5iZWhhdmlvciArXG4gICAgICAgICAgJyBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgZW51bWVyYXRpb24gU2Nyb2xsQmVoYXZpb3IuJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbmRpY2F0ZXMgaWYgYW4gZWxlbWVudCBoYXMgc2Nyb2xsYWJsZSBzcGFjZSBpbiB0aGUgcHJvdmlkZWQgYXhpc1xuICAgICAqIEBtZXRob2QgaGFzU2Nyb2xsYWJsZVNwYWNlXG4gICAgICogQHBhcmFtIHtOb2RlfSBlbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBheGlzXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzU2Nyb2xsYWJsZVNwYWNlKGVsLCBheGlzKSB7XG4gICAgICBpZiAoYXhpcyA9PT0gJ1knKSB7XG4gICAgICAgIHJldHVybiBlbC5jbGllbnRIZWlnaHQgKyBST1VORElOR19UT0xFUkFOQ0UgPCBlbC5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChheGlzID09PSAnWCcpIHtcbiAgICAgICAgcmV0dXJuIGVsLmNsaWVudFdpZHRoICsgUk9VTkRJTkdfVE9MRVJBTkNFIDwgZWwuc2Nyb2xsV2lkdGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaW5kaWNhdGVzIGlmIGFuIGVsZW1lbnQgaGFzIGEgc2Nyb2xsYWJsZSBvdmVyZmxvdyBwcm9wZXJ0eSBpbiB0aGUgYXhpc1xuICAgICAqIEBtZXRob2QgY2FuT3ZlcmZsb3dcbiAgICAgKiBAcGFyYW0ge05vZGV9IGVsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGF4aXNcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYW5PdmVyZmxvdyhlbCwgYXhpcykge1xuICAgICAgdmFyIG92ZXJmbG93VmFsdWUgPSB3LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpWydvdmVyZmxvdycgKyBheGlzXTtcblxuICAgICAgcmV0dXJuIG92ZXJmbG93VmFsdWUgPT09ICdhdXRvJyB8fCBvdmVyZmxvd1ZhbHVlID09PSAnc2Nyb2xsJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbmRpY2F0ZXMgaWYgYW4gZWxlbWVudCBjYW4gYmUgc2Nyb2xsZWQgaW4gZWl0aGVyIGF4aXNcbiAgICAgKiBAbWV0aG9kIGlzU2Nyb2xsYWJsZVxuICAgICAqIEBwYXJhbSB7Tm9kZX0gZWxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXhpc1xuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU2Nyb2xsYWJsZShlbCkge1xuICAgICAgdmFyIGlzU2Nyb2xsYWJsZVkgPSBoYXNTY3JvbGxhYmxlU3BhY2UoZWwsICdZJykgJiYgY2FuT3ZlcmZsb3coZWwsICdZJyk7XG4gICAgICB2YXIgaXNTY3JvbGxhYmxlWCA9IGhhc1Njcm9sbGFibGVTcGFjZShlbCwgJ1gnKSAmJiBjYW5PdmVyZmxvdyhlbCwgJ1gnKTtcblxuICAgICAgcmV0dXJuIGlzU2Nyb2xsYWJsZVkgfHwgaXNTY3JvbGxhYmxlWDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBmaW5kcyBzY3JvbGxhYmxlIHBhcmVudCBvZiBhbiBlbGVtZW50XG4gICAgICogQG1ldGhvZCBmaW5kU2Nyb2xsYWJsZVBhcmVudFxuICAgICAqIEBwYXJhbSB7Tm9kZX0gZWxcbiAgICAgKiBAcmV0dXJucyB7Tm9kZX0gZWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kU2Nyb2xsYWJsZVBhcmVudChlbCkge1xuICAgICAgd2hpbGUgKGVsICE9PSBkLmJvZHkgJiYgaXNTY3JvbGxhYmxlKGVsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZWwgPSBlbC5wYXJlbnROb2RlIHx8IGVsLmhvc3Q7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzZWxmIGludm9rZWQgZnVuY3Rpb24gdGhhdCwgZ2l2ZW4gYSBjb250ZXh0LCBzdGVwcyB0aHJvdWdoIHNjcm9sbGluZ1xuICAgICAqIEBtZXRob2Qgc3RlcFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGVwKGNvbnRleHQpIHtcbiAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICB2YXIgdmFsdWU7XG4gICAgICB2YXIgY3VycmVudFg7XG4gICAgICB2YXIgY3VycmVudFk7XG4gICAgICB2YXIgZWxhcHNlZCA9ICh0aW1lIC0gY29udGV4dC5zdGFydFRpbWUpIC8gU0NST0xMX1RJTUU7XG5cbiAgICAgIC8vIGF2b2lkIGVsYXBzZWQgdGltZXMgaGlnaGVyIHRoYW4gb25lXG4gICAgICBlbGFwc2VkID0gZWxhcHNlZCA+IDEgPyAxIDogZWxhcHNlZDtcblxuICAgICAgLy8gYXBwbHkgZWFzaW5nIHRvIGVsYXBzZWQgdGltZVxuICAgICAgdmFsdWUgPSBlYXNlKGVsYXBzZWQpO1xuXG4gICAgICBjdXJyZW50WCA9IGNvbnRleHQuc3RhcnRYICsgKGNvbnRleHQueCAtIGNvbnRleHQuc3RhcnRYKSAqIHZhbHVlO1xuICAgICAgY3VycmVudFkgPSBjb250ZXh0LnN0YXJ0WSArIChjb250ZXh0LnkgLSBjb250ZXh0LnN0YXJ0WSkgKiB2YWx1ZTtcblxuICAgICAgY29udGV4dC5tZXRob2QuY2FsbChjb250ZXh0LnNjcm9sbGFibGUsIGN1cnJlbnRYLCBjdXJyZW50WSk7XG5cbiAgICAgIC8vIHNjcm9sbCBtb3JlIGlmIHdlIGhhdmUgbm90IHJlYWNoZWQgb3VyIGRlc3RpbmF0aW9uXG4gICAgICBpZiAoY3VycmVudFggIT09IGNvbnRleHQueCB8fCBjdXJyZW50WSAhPT0gY29udGV4dC55KSB7XG4gICAgICAgIHcucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXAuYmluZCh3LCBjb250ZXh0KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2Nyb2xscyB3aW5kb3cgb3IgZWxlbWVudCB3aXRoIGEgc21vb3RoIGJlaGF2aW9yXG4gICAgICogQG1ldGhvZCBzbW9vdGhTY3JvbGxcbiAgICAgKiBAcGFyYW0ge09iamVjdHxOb2RlfSBlbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNtb290aFNjcm9sbChlbCwgeCwgeSkge1xuICAgICAgdmFyIHNjcm9sbGFibGU7XG4gICAgICB2YXIgc3RhcnRYO1xuICAgICAgdmFyIHN0YXJ0WTtcbiAgICAgIHZhciBtZXRob2Q7XG4gICAgICB2YXIgc3RhcnRUaW1lID0gbm93KCk7XG5cbiAgICAgIC8vIGRlZmluZSBzY3JvbGwgY29udGV4dFxuICAgICAgaWYgKGVsID09PSBkLmJvZHkpIHtcbiAgICAgICAgc2Nyb2xsYWJsZSA9IHc7XG4gICAgICAgIHN0YXJ0WCA9IHcuc2Nyb2xsWCB8fCB3LnBhZ2VYT2Zmc2V0O1xuICAgICAgICBzdGFydFkgPSB3LnNjcm9sbFkgfHwgdy5wYWdlWU9mZnNldDtcbiAgICAgICAgbWV0aG9kID0gb3JpZ2luYWwuc2Nyb2xsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2Nyb2xsYWJsZSA9IGVsO1xuICAgICAgICBzdGFydFggPSBlbC5zY3JvbGxMZWZ0O1xuICAgICAgICBzdGFydFkgPSBlbC5zY3JvbGxUb3A7XG4gICAgICAgIG1ldGhvZCA9IHNjcm9sbEVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIC8vIHNjcm9sbCBsb29waW5nIG92ZXIgYSBmcmFtZVxuICAgICAgc3RlcCh7XG4gICAgICAgIHNjcm9sbGFibGU6IHNjcm9sbGFibGUsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICAgICAgc3RhcnRYOiBzdGFydFgsXG4gICAgICAgIHN0YXJ0WTogc3RhcnRZLFxuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPUklHSU5BTCBNRVRIT0RTIE9WRVJSSURFU1xuICAgIC8vIHcuc2Nyb2xsIGFuZCB3LnNjcm9sbFRvXG4gICAgdy5zY3JvbGwgPSB3LnNjcm9sbFRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBhdm9pZCBhY3Rpb24gd2hlbiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZFxuICAgICAgaWYgKGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZFxuICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSA9PT0gdHJ1ZSkge1xuICAgICAgICBvcmlnaW5hbC5zY3JvbGwuY2FsbChcbiAgICAgICAgICB3LFxuICAgICAgICAgIGFyZ3VtZW50c1swXS5sZWZ0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gYXJndW1lbnRzWzBdLmxlZnRcbiAgICAgICAgICAgIDogdHlwZW9mIGFyZ3VtZW50c1swXSAhPT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgPyBhcmd1bWVudHNbMF1cbiAgICAgICAgICAgICAgOiB3LnNjcm9sbFggfHwgdy5wYWdlWE9mZnNldCxcbiAgICAgICAgICAvLyB1c2UgdG9wIHByb3AsIHNlY29uZCBhcmd1bWVudCBpZiBwcmVzZW50IG9yIGZhbGxiYWNrIHRvIHNjcm9sbFlcbiAgICAgICAgICBhcmd1bWVudHNbMF0udG9wICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gYXJndW1lbnRzWzBdLnRvcFxuICAgICAgICAgICAgOiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IGFyZ3VtZW50c1sxXVxuICAgICAgICAgICAgICA6IHcuc2Nyb2xsWSB8fCB3LnBhZ2VZT2Zmc2V0XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBMRVQgVEhFIFNNT09USE5FU1MgQkVHSU4hXG4gICAgICBzbW9vdGhTY3JvbGwuY2FsbChcbiAgICAgICAgdyxcbiAgICAgICAgZC5ib2R5LFxuICAgICAgICBhcmd1bWVudHNbMF0ubGVmdCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB+fmFyZ3VtZW50c1swXS5sZWZ0XG4gICAgICAgICAgOiB3LnNjcm9sbFggfHwgdy5wYWdlWE9mZnNldCxcbiAgICAgICAgYXJndW1lbnRzWzBdLnRvcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB+fmFyZ3VtZW50c1swXS50b3BcbiAgICAgICAgICA6IHcuc2Nyb2xsWSB8fCB3LnBhZ2VZT2Zmc2V0XG4gICAgICApO1xuICAgIH07XG5cbiAgICAvLyB3LnNjcm9sbEJ5XG4gICAgdy5zY3JvbGxCeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gYXZvaWQgYWN0aW9uIHdoZW4gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWRcbiAgICAgIGlmIChhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGF2b2lkIHNtb290aCBiZWhhdmlvciBpZiBub3QgcmVxdWlyZWRcbiAgICAgIGlmIChzaG91bGRCYWlsT3V0KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgb3JpZ2luYWwuc2Nyb2xsQnkuY2FsbChcbiAgICAgICAgICB3LFxuICAgICAgICAgIGFyZ3VtZW50c1swXS5sZWZ0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gYXJndW1lbnRzWzBdLmxlZnRcbiAgICAgICAgICAgIDogdHlwZW9mIGFyZ3VtZW50c1swXSAhPT0gJ29iamVjdCcgPyBhcmd1bWVudHNbMF0gOiAwLFxuICAgICAgICAgIGFyZ3VtZW50c1swXS50b3AgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBhcmd1bWVudHNbMF0udG9wXG4gICAgICAgICAgICA6IGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTEVUIFRIRSBTTU9PVEhORVNTIEJFR0lOIVxuICAgICAgc21vb3RoU2Nyb2xsLmNhbGwoXG4gICAgICAgIHcsXG4gICAgICAgIGQuYm9keSxcbiAgICAgICAgfn5hcmd1bWVudHNbMF0ubGVmdCArICh3LnNjcm9sbFggfHwgdy5wYWdlWE9mZnNldCksXG4gICAgICAgIH5+YXJndW1lbnRzWzBdLnRvcCArICh3LnNjcm9sbFkgfHwgdy5wYWdlWU9mZnNldClcbiAgICAgICk7XG4gICAgfTtcblxuICAgIC8vIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbCBhbmQgRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsVG9cbiAgICBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGwgPSBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxUbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gYXZvaWQgYWN0aW9uIHdoZW4gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWRcbiAgICAgIGlmIChhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGF2b2lkIHNtb290aCBiZWhhdmlvciBpZiBub3QgcmVxdWlyZWRcbiAgICAgIGlmIChzaG91bGRCYWlsT3V0KGFyZ3VtZW50c1swXSkgPT09IHRydWUpIHtcbiAgICAgICAgLy8gaWYgb25lIG51bWJlciBpcyBwYXNzZWQsIHRocm93IGVycm9yIHRvIG1hdGNoIEZpcmVmb3ggaW1wbGVtZW50YXRpb25cbiAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdudW1iZXInICYmIGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdWYWx1ZSBjb3VsZCBub3QgYmUgY29udmVydGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBvcmlnaW5hbC5lbGVtZW50U2Nyb2xsLmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICAvLyB1c2UgbGVmdCBwcm9wLCBmaXJzdCBudW1iZXIgYXJndW1lbnQgb3IgZmFsbGJhY2sgdG8gc2Nyb2xsTGVmdFxuICAgICAgICAgIGFyZ3VtZW50c1swXS5sZWZ0ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gfn5hcmd1bWVudHNbMF0ubGVmdFxuICAgICAgICAgICAgOiB0eXBlb2YgYXJndW1lbnRzWzBdICE9PSAnb2JqZWN0JyA/IH5+YXJndW1lbnRzWzBdIDogdGhpcy5zY3JvbGxMZWZ0LFxuICAgICAgICAgIC8vIHVzZSB0b3AgcHJvcCwgc2Vjb25kIGFyZ3VtZW50IG9yIGZhbGxiYWNrIHRvIHNjcm9sbFRvcFxuICAgICAgICAgIGFyZ3VtZW50c1swXS50b3AgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB+fmFyZ3VtZW50c1swXS50b3BcbiAgICAgICAgICAgIDogYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyB+fmFyZ3VtZW50c1sxXSA6IHRoaXMuc2Nyb2xsVG9wXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGVmdCA9IGFyZ3VtZW50c1swXS5sZWZ0O1xuICAgICAgdmFyIHRvcCA9IGFyZ3VtZW50c1swXS50b3A7XG5cbiAgICAgIC8vIExFVCBUSEUgU01PT1RITkVTUyBCRUdJTiFcbiAgICAgIHNtb290aFNjcm9sbC5jYWxsKFxuICAgICAgICB0aGlzLFxuICAgICAgICB0aGlzLFxuICAgICAgICB0eXBlb2YgbGVmdCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnNjcm9sbExlZnQgOiB+fmxlZnQsXG4gICAgICAgIHR5cGVvZiB0b3AgPT09ICd1bmRlZmluZWQnID8gdGhpcy5zY3JvbGxUb3AgOiB+fnRvcFxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgLy8gRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsQnlcbiAgICBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxCeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gYXZvaWQgYWN0aW9uIHdoZW4gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWRcbiAgICAgIGlmIChhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGF2b2lkIHNtb290aCBiZWhhdmlvciBpZiBub3QgcmVxdWlyZWRcbiAgICAgIGlmIChzaG91bGRCYWlsT3V0KGFyZ3VtZW50c1swXSkgPT09IHRydWUpIHtcbiAgICAgICAgb3JpZ2luYWwuZWxlbWVudFNjcm9sbC5jYWxsKFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgYXJndW1lbnRzWzBdLmxlZnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB+fmFyZ3VtZW50c1swXS5sZWZ0ICsgdGhpcy5zY3JvbGxMZWZ0XG4gICAgICAgICAgICA6IH5+YXJndW1lbnRzWzBdICsgdGhpcy5zY3JvbGxMZWZ0LFxuICAgICAgICAgIGFyZ3VtZW50c1swXS50b3AgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB+fmFyZ3VtZW50c1swXS50b3AgKyB0aGlzLnNjcm9sbFRvcFxuICAgICAgICAgICAgOiB+fmFyZ3VtZW50c1sxXSArIHRoaXMuc2Nyb2xsVG9wXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNjcm9sbCh7XG4gICAgICAgIGxlZnQ6IH5+YXJndW1lbnRzWzBdLmxlZnQgKyB0aGlzLnNjcm9sbExlZnQsXG4gICAgICAgIHRvcDogfn5hcmd1bWVudHNbMF0udG9wICsgdGhpcy5zY3JvbGxUb3AsXG4gICAgICAgIGJlaGF2aW9yOiBhcmd1bWVudHNbMF0uYmVoYXZpb3JcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxJbnRvVmlld1xuICAgIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBhdm9pZCBzbW9vdGggYmVoYXZpb3IgaWYgbm90IHJlcXVpcmVkXG4gICAgICBpZiAoc2hvdWxkQmFpbE91dChhcmd1bWVudHNbMF0pID09PSB0cnVlKSB7XG4gICAgICAgIG9yaWdpbmFsLnNjcm9sbEludG9WaWV3LmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmd1bWVudHNbMF1cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIExFVCBUSEUgU01PT1RITkVTUyBCRUdJTiFcbiAgICAgIHZhciBzY3JvbGxhYmxlUGFyZW50ID0gZmluZFNjcm9sbGFibGVQYXJlbnQodGhpcyk7XG4gICAgICB2YXIgcGFyZW50UmVjdHMgPSBzY3JvbGxhYmxlUGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIGNsaWVudFJlY3RzID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgaWYgKHNjcm9sbGFibGVQYXJlbnQgIT09IGQuYm9keSkge1xuICAgICAgICAvLyByZXZlYWwgZWxlbWVudCBpbnNpZGUgcGFyZW50XG4gICAgICAgIHNtb290aFNjcm9sbC5jYWxsKFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgc2Nyb2xsYWJsZVBhcmVudCxcbiAgICAgICAgICBzY3JvbGxhYmxlUGFyZW50LnNjcm9sbExlZnQgKyBjbGllbnRSZWN0cy5sZWZ0IC0gcGFyZW50UmVjdHMubGVmdCxcbiAgICAgICAgICBzY3JvbGxhYmxlUGFyZW50LnNjcm9sbFRvcCArIGNsaWVudFJlY3RzLnRvcCAtIHBhcmVudFJlY3RzLnRvcFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIHJldmVhbCBwYXJlbnQgaW4gdmlld3BvcnQgdW5sZXNzIGlzIGZpeGVkXG4gICAgICAgIGlmICh3LmdldENvbXB1dGVkU3R5bGUoc2Nyb2xsYWJsZVBhcmVudCkucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgICAgICB3LnNjcm9sbEJ5KHtcbiAgICAgICAgICAgIGxlZnQ6IHBhcmVudFJlY3RzLmxlZnQsXG4gICAgICAgICAgICB0b3A6IHBhcmVudFJlY3RzLnRvcCxcbiAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZXZlYWwgZWxlbWVudCBpbiB2aWV3cG9ydFxuICAgICAgICB3LnNjcm9sbEJ5KHtcbiAgICAgICAgICBsZWZ0OiBjbGllbnRSZWN0cy5sZWZ0LFxuICAgICAgICAgIHRvcDogY2xpZW50UmVjdHMudG9wLFxuICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgaWYgKHRydWUpIHtcbiAgICAvLyBjb21tb25qc1xuICAgIG1vZHVsZS5leHBvcnRzID0geyBwb2x5ZmlsbDogcG9seWZpbGwgfTtcbiAgfSBlbHNlIHt9XG5cbn0oKSk7XG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gRVNNIENPTVBBVCBGTEFHXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL2NvbXBvbmVudHMvVGFicy5qc1xuY2xhc3MgVGFicyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0YWJCdXR0b25zLCB0YWJzKSB7XHJcbiAgICAgICAgdGhpcy50YWJCdXR0b25zID0gdGFiQnV0dG9ucztcclxuICAgICAgICB0aGlzLnRhYnMgPSB0YWJzO1xyXG4gICAgICAgIHRoaXMudGFiQnV0dG9ucy5mb3JFYWNoKCAoZWxlbSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUFsbFRhYnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFic1tpXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNsb3NlQWxsVGFicygpe1xyXG4gICAgICAgIHRoaXMudGFiQnV0dG9ucy5mb3JFYWNoKCBidXR0b24gPT4ge1xyXG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRhYnMuZm9yRWFjaCggdGFiID0+IHtcclxuICAgICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvanMvY29tcG9uZW50cy9wb3B1cEZ1bmMuanNcbmNsYXNzIHBvcHVwRnVuYyB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cCwgYnV0dG9uKSB7XHJcbiAgICAgICAgdGhpcy5idXR0b24gPSBidXR0b247XHJcbiAgICAgICAgdGhpcy5wb3B1cCA9IHBvcHVwO1xyXG4gICAgICAgIHRoaXMub3BlblBvcHVwRnVuYyA9IHRoaXMub3BlblBvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZVBvcHVwRnVuYyA9IHRoaXMuY2xvc2VQb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGlmICggQXJyYXkuaXNBcnJheSh0aGlzLmJ1dHRvbikpe1xyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbi5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Qb3B1cEZ1bmMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUG9wdXBGdW5jKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpO1xyXG4gICAgICAgIHRoaXMucG9wdXAucGFyZW50Tm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VQb3B1cEZ1bmMpO1xyXG4gICAgfVxyXG4gICAgb3BlblBvcHVwKGV2ZW50KXtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG4gICAgICAgIHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcbiAgICB9XHJcbiAgICBjbG9zZVBvcHVwKGV2ZW50KXtcclxuICAgICAgICBpZiAoIWV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlJykgJiYgZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cCcpICE9PSBudWxsKXtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3Ntb290aHNjcm9sbC1wb2x5ZmlsbC9kaXN0L3Ntb290aHNjcm9sbC5qc1xudmFyIHNtb290aHNjcm9sbCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgc21vb3Roc2Nyb2xsX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHNtb290aHNjcm9sbCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL2luZGV4LmpzXG5cclxuXHJcblxyXG5zbW9vdGhzY3JvbGxfZGVmYXVsdC5hLnBvbHlmaWxsKCk7XHJcbmZ1bmN0aW9uIGlPUygpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICdpUGFkIFNpbXVsYXRvcicsXHJcbiAgICAgICAgICAgICdpUGhvbmUgU2ltdWxhdG9yJyxcclxuICAgICAgICAgICAgJ2lQb2QgU2ltdWxhdG9yJyxcclxuICAgICAgICAgICAgJ2lQYWQnLFxyXG4gICAgICAgICAgICAnaVBob25lJyxcclxuICAgICAgICAgICAgJ2lQb2QnXHJcbiAgICAgICAgXS5pbmNsdWRlcyhuYXZpZ2F0b3IucGxhdGZvcm0pXHJcbiAgICAgICAgLy8gaVBhZCBvbiBpT1MgMTMgZGV0ZWN0aW9uXHJcbiAgICAgICAgfHwgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoXCJNYWNcIikgJiYgXCJvbnRvdWNoZW5kXCIgaW4gZG9jdW1lbnQpXHJcbn1cclxuZnVuY3Rpb24gU21vb3RoVmVydGljYWxTY3JvbGxpbmcoZSwgdGltZSwgd2hlcmUpIHtcclxuICAgIGxldCBlVG9wO1xyXG4gICAgaWYgKGlPUyl7XHJcbiAgICAgICAgZVRvcCA9IGUub2Zmc2V0VG9wO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBlVG9wID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICB9XHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8oe1xyXG4gICAgICAgIHRvcDogZVRvcCAtIDUwLFxyXG4gICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiXHJcbiAgICB9KVxyXG59XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWhyZWZdJykuZm9yRWFjaCggbGluayA9PiB7XHJcbiAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBTbW9vdGhWZXJ0aWNhbFNjcm9sbGluZyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke2xpbmsuZGF0YXNldC5ocmVmfWApLCAxNTAwLCAndG9wJylcclxuICAgIH0pXHJcbn0pO1xyXG5cclxubmV3IFRhYnMoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1idXR0b25zIC50YWInKSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYnMgLnRhYicpKTtcclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaG93LXdlLWRvLWl0IC5pbWFnZS1ibG9jaycpICYmIHdpbmRvdy5zY3JlZW4ud2lkdGggPiA5Nzgpe1xyXG4gICAgbGV0IGltYWdlQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaG93LXdlLWRvLWl0IC5pbWFnZS1ibG9jaycpLFxyXG4gICAgICAgIGltYWdlTGlzdCA9IGltYWdlQmxvY2sucXVlcnlTZWxlY3Rvcignb2wnKSxcclxuICAgICAgICBjYW52YXMgPSBpbWFnZUJsb2NrLnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpLFxyXG4gICAgICAgIHdpZHRoU3RhdGljID0gMTI1MCxcclxuICAgICAgICBoZWlnaHRTdGF0aWMgPSA2NTAsXHJcbiAgICAgICAgcGFkZGluZ1N0cmluZyxcclxuICAgICAgICB3aWR0aE1hcms7XHJcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aFN0YXRpYztcclxuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHRTdGF0aWM7XHJcbiAgICBsZXQgc3RlcCA9IHtcclxuICAgICAgICAgICAgMDogJzQxJyxcclxuICAgICAgICAgICAgMTAyNDogJzYyJyxcclxuICAgICAgICAgICAgMTM2NjogJzgyJ1xyXG4gICAgICAgIH07XHJcbiAgICBmb3IgKGxldCB3aWR0aCBpbiBzdGVwKXtcclxuICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8PSB3aWR0aCl7XHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2lkdGhNYXJrID0gc3RlcFt3aWR0aF1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbWFnZUJsb2NrLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbWFnZS1maWVsZCcpLmZvckVhY2goIChlbGVtLGluZGV4KSA9PiB7XHJcbiAgICAgICAgbGV0IHJvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIHJvdW5kLmNsYXNzTGlzdC5hZGQoJ21hcmsnKTtcclxuICAgICAgICBpbWFnZUxpc3QuYXBwZW5kQ2hpbGQocm91bmQpO1xyXG4gICAgICAgIGxldCBtYXJrWCA9IHBhcnNlSW50KGVsZW0uZGF0YXNldC5wb3NYKSxcclxuICAgICAgICAgICAgbWFya1kgPSBwYXJzZUludChlbGVtLmRhdGFzZXQucG9zWSk7XHJcbiAgICAgICAgZWxlbS5zdHlsZS50b3AgPSBgY2FsYygkeyhtYXJrWSAqIDEwMCkgLyBoZWlnaHRTdGF0aWN9JSArICR7TWF0aC5yb3VuZCh3aWR0aE1hcmsgKiAuNzgpfXB4KWA7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5sZWZ0ID0gYCR7KG1hcmtYICogMTAwKSAvIHdpZHRoU3RhdGljfSVgO1xyXG4gICAgICAgIHJvdW5kLnN0eWxlLnRvcCA9IGAkeyhtYXJrWSAqIDEwMCkgLyBoZWlnaHRTdGF0aWN9JWA7XHJcbiAgICAgICAgcm91bmQuc3R5bGUubGVmdCA9IGAkeyhtYXJrWCAqIDEwMCkgLyB3aWR0aFN0YXRpY30lYDtcclxuXHJcbiAgICAgICAgbGV0IGVsZW1IZWlnaHQgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKS5nZXRQcm9wZXJ0eVZhbHVlKCdoZWlnaHQnKSk7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5oZWlnaHQgPSAnMCc7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPiAxMDIzKSB7XHJcbiAgICAgICAgICAgIGVsZW0uc3R5bGUucGFkZGluZyA9IGAwIDE1cHggMCAyMHB4YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlbGVtLnN0eWxlLnBhZGRpbmcgPSBgMCAxNXB4YFxyXG4gICAgICAgIH1cclxuICAgICAgICByb3VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ob3ctd2UtZG8taXQgLmltYWdlLWJsb2NrIC5pbWFnZS1maWVsZCcpLmZvckVhY2goIGZpZWxkID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChmaWVsZCAhPT0gZWxlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLnN0eWxlLmhlaWdodCA9ICcwJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA+IDEwMjMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQuc3R5bGUucGFkZGluZyA9IGAwIDE1cHggMCAyMHB4YDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5zdHlsZS5wYWRkaW5nID0gYDAgMTVweGBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaG93LXdlLWRvLWl0IC5pbWFnZS1ibG9jayAubWFyaycpLmZvckVhY2goIG1hcmsgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hcmsgIT09IHJvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyay5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwYXJzZUludChlbGVtLnN0eWxlLmhlaWdodCkgPT09IDApe1xyXG4gICAgICAgICAgICAgICAgcm91bmQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBlbGVtLnN0eWxlLmhlaWdodCA9IGAke2VsZW1IZWlnaHR9cHhgO1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPiAxMDIzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5zdHlsZS5wYWRkaW5nID0gYDI1cHggMTVweCAyNXB4IDIwcHhgXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUucGFkZGluZyA9IGA1cHggMTVweGBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJvdW5kLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgZWxlbS5zdHlsZS5oZWlnaHQgPSAnMCc7XHJcbiAgICAgICAgICAgICAgICBlbGVtLnN0eWxlLnBhZGRpbmcgPSBgMCAxNXB4IDAgMjBweGBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSlcclxufVxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5idXJnZXInKSAmJiB3aW5kb3cuc2NyZWVuLndpZHRoIDwgODYwKXtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciAuYnVyZ2VyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciBuYXYnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgIGlmICh3aW5kb3cuc2NyZWVuLndpZHRoIDwgNTc2KXtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5zb2NpYWwnKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2hlYWRlciBuYXYgYScpLmZvckVhY2goIGxpbmsgPT4ge1xyXG4gICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgbmF2JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA1NzYpe1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIC5zb2NpYWwnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlciBuYXYgLmNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyIG5hdicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA1NzYpe1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXIgLnNvY2lhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnRvcC1jYXRhbG9ncyAuc2xpZGVyLWltYWdlcycpKXtcclxuICAgIGxldCBhbGxJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uLnRvcC1jYXRhbG9ncyAuc2xpZGVyLWltYWdlcyBpbWcnKTtcclxuICAgIGxldCBzaWVtYSA9IG5ldyBTaWVtYSh7XHJcbiAgICAgICAgc2VsZWN0b3I6ICdzZWN0aW9uLnRvcC1jYXRhbG9ncyAuc2xpZGVyLWltYWdlcycsXHJcbiAgICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgICBlYXNpbmc6ICdlYXNlLW91dCcsXHJcbiAgICAgICAgcGVyUGFnZTogMSxcclxuICAgICAgICBzdGFydEluZGV4OiAwLFxyXG4gICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXHJcbiAgICAgICAgbXVsdGlwbGVEcmFnOiBmYWxzZSxcclxuICAgICAgICB0aHJlc2hvbGQ6IDIwLFxyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgcnRsOiBmYWxzZSxcclxuICAgICAgICBvbkluaXQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGxldCBkb3RMZW5ndGggPSB0aGlzLmlubmVyRWxlbWVudHMubGVuZ3RoIC0gdGhpcy5wZXJQYWdlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvdExlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGxldCBkb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIGRvdC5jbGFzc0xpc3QuYWRkKCdkb3QnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IuY2xvc2VzdCgnc2VjdGlvbi50b3AtY2F0YWxvZ3MnKS5xdWVyeVNlbGVjdG9yKCcuc2Nyb2xsJykuYXBwZW5kQ2hpbGQoZG90KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhbGxJbWFnZXNbdGhpcy5jdXJyZW50U2xpZGVdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhbGxJbWFnZXNbdGhpcy5jdXJyZW50U2xpZGVdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfSwzMDApXHJcbiAgICAgICAgICAgIH0sMzAwKTtcclxuICAgICAgICAgICAgc2V0SW50ZXJ2YWwoICgpPT57XHJcbiAgICAgICAgICAgICAgICBhbGxJbWFnZXNbdGhpcy5jdXJyZW50U2xpZGVdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSW1hZ2VzW3RoaXMuY3VycmVudFNsaWRlXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LDMwMClcclxuICAgICAgICAgICAgICAgIH0sMzAwKTtcclxuICAgICAgICAgICAgfSwgMTAzMDApO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJ3NlY3Rpb24udG9wLWNhdGFsb2dzJykucXVlcnlTZWxlY3RvcignLmJ0bnMgLnByZXYnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGFsbEltYWdlc1t0aGlzLmN1cnJlbnRTbGlkZV0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIHNpZW1hLnByZXYoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEltYWdlc1t0aGlzLmN1cnJlbnRTbGlkZV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwzMDApXHJcbiAgICAgICAgICAgICAgICB9LDMwMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9yLmNsb3Nlc3QoJ3NlY3Rpb24udG9wLWNhdGFsb2dzJykucXVlcnlTZWxlY3RvcignLmJ0bnMgLm5leHQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGFsbEltYWdlc1t0aGlzLmN1cnJlbnRTbGlkZV0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIHNpZW1hLm5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEltYWdlc1t0aGlzLmN1cnJlbnRTbGlkZV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwzMDApXHJcbiAgICAgICAgICAgICAgICB9LDMwMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3IucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCcuc2Nyb2xsIC5kb3QnKS5mb3JFYWNoKCBlbGVtID0+IGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY3VycmVudFNsaWRlOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvci5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY3JvbGwgLmRvdCcpW2ldLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyIC5wb3B1cCcpKXtcclxuICAgIG5ldyBwb3B1cEZ1bmMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndyYXBwZXIgLnBvcHVwJyksIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wb3B1cF0nKV0pO1xyXG59XHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmJsb2cnKSl7XHJcbiAgICBsZXQgbWF4SGVpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5ibG9nIC5ncmlkJykub2Zmc2V0SGVpZ2h0O1xyXG4gICAgbGV0IGhlaWdodE9mQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmJsb2cgLmVsZW0nKS5vZmZzZXRIZWlnaHQ7XHJcbiAgICBsZXQgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uYmxvZyAuZ3JpZCcpO1xyXG4gICAgZ3JpZC5zdHlsZS5tYXhIZWlnaHQgPSBgJHtoZWlnaHRPZkJsb2NrfXB4YDtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uYmxvZyAuYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSk9PntcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZ3JpZC5zdHlsZS5tYXhIZWlnaHQgPSBgJHttYXhIZWlnaHR9cHhgO1xyXG4gICAgICAgIGdyaWQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IGAzMHB4YDtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLmJsb2cgLmJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9KVxyXG59XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTsiXSwiZmlsZSI6Im1haW4tbWluLmpzIn0=
